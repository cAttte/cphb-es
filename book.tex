\documentclass[twoside,12pt,a4paper,spanish]{book}

\usepackage[spanish,es-sloppy]{babel}
\usepackage[utf8]{inputenc}
\usepackage{listings}
\usepackage[table]{xcolor}
\usepackage{tikz}
\usepackage{multicol}
\usepackage[pdfusetitle]{hyperref}
\usepackage{array}
\usepackage{microtype}

\usepackage{fouriernc}
\usepackage[T1]{fontenc}

\usepackage{graphicx}
\usepackage{framed}
\usepackage{amssymb}
\usepackage{amsmath}

\usepackage{pifont}
\usepackage{ifthen}
\usepackage{imakeidx}
\usepackage{enumitem}
\usepackage{titlesec}

\usepackage{skak}
\usepackage[scaled=0.95]{inconsolata}

\usetikzlibrary{patterns,decorations.pathreplacing}
\pagestyle{plain}

\definecolor{keywords}{HTML}{44548A}
\definecolor{strings}{HTML}{00999A}
\definecolor{comments}{HTML}{990000}

\lstset{
    language=C++, frame=single, basicstyle=\ttfamily \small, showstringspaces=false, columns=flexible,
    xleftmargin=20pt, xrightmargin=5pt, aboveskip=12pt, belowskip=8pt,
    commentstyle=\color{comments}, keywordstyle=\color{keywords}, stringstyle=\color{strings},
    literate={á}{{\'a}}1 {é}{{\'e}}1 {í}{{\'i}}1 {ó}{{\'o}}1 {ú}{{\'u}}1 {ñ}{{\~n}}1
}

\newcommand{\indexalt}[1]{\index{#1@\textit{#1}}}
\newcommand{\indexaltsub}[2]{\index{#1!#2@\textit{#2}}}

\usepackage[a4paper,vmargin=30mm,hmargin=33mm,footskip=15mm]{geometry}

\title{\Huge Manual de programación competitiva}
\author{\Large Antti Laaksonen}
\date{Borrador, 19 de agosto de 2019\\Traducción, \today}
\addto\captionsspanish{\renewcommand{\contentsname}{Contenidos}}
\addto\captionsspanish{\renewcommand{\indexname}{Índice}}

\makeindex
\usepackage[totoc]{idxlayout}

\titleformat{\subsubsection}
{\normalfont\large\bfseries\sffamily}{\thesubsection}{1em}{}
\DeclareMathOperator{\mex}{mex}

\begin{document}

\frontmatter
\maketitle
\setcounter{tocdepth}{1}
\tableofcontents

\include{preface}

\mainmatter
\pagenumbering{arabic}
\setcounter{page}{1}

\newcommand{\key}[1] {\textbf{#1}}

\part{Técnicas básicas}
\include{chapter01}
\include{chapter02}
\include{chapter03}
\include{chapter04}
\include{chapter05}
\include{chapter06}
\include{chapter07}
\include{chapter08}
\include{chapter09}
\include{chapter10}
\part{Algoritmos de grafos}
\include{chapter11}
\include{chapter12}
\include{chapter13}
\include{chapter14}
\include{chapter15}
\include{chapter16}
\include{chapter17}
\include{chapter18}
\include{chapter19}
\include{chapter20}
\part{Temas avanzados}
\include{chapter21}
\include{chapter22}
\include{chapter23}
\include{chapter24}
\include{chapter25}
\include{chapter26}
\include{chapter27}
\include{chapter28}
\include{chapter29}
\include{chapter30}

\cleardoublepage
\phantomsection
\addcontentsline{toc}{chapter}{Bibliografía}
\include{list}

\cleardoublepage
\printindex

\end{document}